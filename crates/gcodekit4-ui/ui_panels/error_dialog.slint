//! Error Dialog Component
//! Simple modal dialog for displaying error messages

import { Button, VerticalBox, HorizontalBox, ScrollView } from "std-widgets.slint";
import { Theme } from "../ui/theme.slint";
import { StandardButton } from "../ui/ui_components/shared.slint";

export component ErrorDialog inherits Window {
    title: "Error";
    width: 800px;
    height: 200px;
    background: Theme.background;
    
    in-out property <string> error-message: "An error occurred";
    
    callback close-dialog();
    
    VerticalBox {
        padding: 20px;
        spacing: 20px;
        
        // Error icon and message
        HorizontalBox {
            spacing: 15px;
            
            // Error icon (red X)
            Rectangle {
                width: 48px;
                height: 48px;
                border-radius: 24px;
                background: Theme.danger;
                
                Text {
                    text: "âœ–";
                    font-size: 32px;
                    color: white;
                    horizontal-alignment: center;
                    vertical-alignment: center;
                }
            }
            
            // Error message with scroll
            ScrollView {
                vertical-stretch: 1;
                horizontal-stretch: 1;
                
                VerticalBox {
                    Text {
                        text: error-message;
                        font-size: 14px;
                        color: Theme.text-primary;
                        wrap: word-wrap;
                        width: 100%;
                        horizontal-alignment: left;
                    }
                }
            }
        }
        
        // OK Button
        HorizontalBox {
            alignment: center;
            
            StandardButton {
                text: "OK";
                primary: true;
                width: 100px;
                clicked => {
                    root.close-dialog();
                }
            }
        }
    }
}
